---
title: 字符串换行实际应用
toc: true
date: 2022-12-29 20:28:04
tags: Python
categories: 开发总结
excerpt: 最近在 毎日のんびり日本語教師 网站上学习日语语法，复制笔记的时候出现了bug...
---

## 背景

最近在 [毎日のんびり日本語教師](https://nihongonosensei.net/) 网站上学习日语语法，其中的部分例句打算复制（摘抄）到Notion上作为笔记记录。但是奇怪的事情发生了 =>

### 网站原文例句

![](images/字符串换行实际应用/2022-12-29-20-31-22.png)

### 粘贴到Notion之后

![](images/字符串换行实际应用/2022-12-29-20-31-43.png)

换行错乱了，很不开心。 =-=

## 解决问题

### 思路

利用Python脚本，调整字符串格式，给每段的换行前加上 "/n"。

### 代码

```python
string = '''
（１）　本当に好きな以上は仕方ない。
　　　　　（如果真的喜欢那就没办法了。）
　（２）　給料を貰ってる以上は一生懸命やるのみ。
　　　　　（既然领了工资，就只能拼命工作。）
'''
string = string.replace("（", "\n（")
```

此时，控制台输出的代码直接粘贴到Notion即可。

#### 控制台

![](images/字符串换行实际应用/2022-12-29-20-33-31.png)

#### Notion

![](images/字符串换行实际应用/2022-12-29-20-33-41.png)

### 进阶方案

从控制台里复制，然后再粘贴到Notion里，其实还是有点麻烦。所以找找方案，想办法解决掉复制这个费时间的操作。最终找到了 [pyperclip](https://github.com/asweigart/pyperclip) 这个库。

改造一下代码，让运行结果直接复制到系统的剪贴板里。

```python
import pyperclip
string = '''
（１）　本当に好きな以上は仕方ない。
　　　　　（如果真的喜欢那就没办法了。）
　（２）　給料を貰ってる以上は一生懸命やるのみ。
　　　　　（既然领了工资，就只能拼命工作。）
'''
string = string.replace("（", "\n（")
pyperclip.copy(string) # 此时已经粘贴至粘贴板，直接粘贴即可。
```
## 后话

其实仔细想想，打包一个GUI工具，包含文本框，change按钮，clear按钮，效率会更高。省的每次都要重新再代码里找位置粘贴。
计划暂缓，有生之年吧。还是先过语言考试再说，奇淫技巧缓缓先=-=。